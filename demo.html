<html>
  <head>
    <title>History editor (undo/redo) example</title>
      <script src="components/webcomponentsjs/webcomponents.js"></script>
      <link rel="import" href="command-manager-base.html">
  </head>
<body>

<polymer-element name="history-editor" extends="command-manager-base" noscript>
  <template>
    <link rel="stylesheet" type="text/css" href="history-editor.css">
      <div>
        <span title="Undo" style="cursor:pointer" on-tap="{{undo}}" >U</span>
        <span> History</span>
        <span title="Redo" style="cursor:pointer" on-tap="{{redo}}" >R</span>
      </div>
      <!--in the future (once polymer's official release does not break webgl rendering with three.js
      repeat="{{command, commandIndex in undos}}"
      {{commandIndex}} . 

      {{command in undos}}
      repeat="{{i in names.asMap().keys)}} //THIS DOES NOT WORK either...">
      -->
      <div id="commandsHistory">
        <template repeat="{{command in undos}}" >
          <div class="undosItem" on-tap="{{historyUndo}}">
           {{command.index}} {{command.type}} {{command.target.name}}
          </div>
          <template if="{{command.index == undos.length-1}}">
              <div style="background-color:red;width:100%; height:5px"> </div>
          </template>
        </template>
        <!--redos-->
        <template repeat="{{command in redos}}">
          <template if="{{command.index == 0}}">
              <div style="background-color:red;width:100%; height:5px"> </div>
          </template>
          <div class="redosItem" on-tap="{{historyRedo}}">
            {{command.index}}  {{command.type}} {{command.target.name}}
          </div>
        </template>
      </div>
  </template>
</polymer-element>

<history-editor></history-editor>
  
</body>
</html>

  
